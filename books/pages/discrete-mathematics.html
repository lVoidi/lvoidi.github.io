<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matemáticas Discretas - Portal lVoidi</title>
    
    <!-- CSS imports -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="../../static/css/style.css" rel="stylesheet">
    <link href="../../static/css/books.css" rel="stylesheet">
    <!-- MathJax for mathematical equations -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Icon -->
    <link rel="icon" href="../../static/img/icon.png" type="image/x-icon">
</head>
<body>
    <div id="navbar-placeholder"></div>

    <div class="container-fluid">
        <button id="sidebarToggle" class="sidebar-toggle d-md-none">
            <i class="fas fa-bars"></i>
        </button>
        <div class="row">
            <!-- Navegación Lateral -->
            <nav class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item chapter-title">
                            <a class="nav-link active" href="#introduction">
                                Introducción a las Matemáticas Discretas
                            </a>
                        </li>
                        <li class="nav-item chapter-title">
                            <a class="nav-link" href="#chapter1">
                                Capítulo 1: Lógica y Demostraciones
                            </a>
                            <ul class="nav flex-column sub-nav">
                                <li class="nav-item">
                                    <a class="nav-link" href="#propositional-logic">1.1 Lógica Proposicional</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#predicates">1.2 Predicados y Cuantificadores</a>
                                </li>
                            </ul>
                        </li>
                        <!-- Add more chapters as needed -->
                    </ul>
                </div>
            </nav>

            <!-- Contenido Principal -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="book-content">
                    <section id="introduction" class="mb-5">
                        <h1>Introducción a las Matemáticas Discretas</h1>
                        <div class="metadata mb-4">
                            <span><i class="fas fa-clock"></i> Última actualización: Febrero 2024</span>
                            <span><i class="fas fa-book-reader"></i> Tiempo de lectura: 30 min</span>
                        </div>
                        <p>¡Bienvenido a Matemáticas Discretas! Este libro cubre conceptos fundamentales...</p>
                    </section>

                    <section id="chapter1" class="mb-5">
                        <h2>Capítulo 1: Lógica y Demostraciones</h2>
                        
                        <article id="propositional-logic" class="mb-4">
                            <h3>1.1 Lógica Proposicional</h3>
                            <p>La lógica proposicional es el estudio de las proposiciones, enunciados que son verdaderos o falsos...</p>
                            
                            <!-- Example of a theorem box -->
                            <div class="theorem-box">
                                <h4>Teorema 1.1</h4>
                                <p>Para cualquier proposición p y q:</p>
                                <p>\[ (p \land q) \equiv \neg(\neg p \lor \neg q) \]</p>
                            </div>

                            <!-- Example of an example box -->
                            <div class="example-box">
                                <h4>Ejemplo 1.1</h4>
                                <p>Consideremos la siguiente proposición...</p>
                            </div>
                        </article>

                        <article id="predicates" class="mb-4">
                            <h3>1.2 Predicados y Cuantificadores</h3>
                            <p>Un predicado es un enunciado que contiene variables...</p>
                        </article>
                    </section>
                </div>
            </main>
        </div>
    </div>

    <!-- Scroll to top button -->
    <button id="scrollToTop" class="scroll-to-top" aria-label="Desplazarse hacia arriba">
        <i class="fas fa-arrow-up"></i>
    </button>

    <div id="footer-placeholder"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../static/js/templates.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sidebarToggle = document.getElementById('sidebarToggle');
            const sidebar = document.querySelector('.sidebar');
            
            // Create overlay element
            const overlay = document.createElement('div');
            overlay.className = 'sidebar-overlay';
            document.body.appendChild(overlay);

            // Toggle sidebar
            sidebarToggle.addEventListener('click', () => {
                sidebar.classList.toggle('show');
                overlay.classList.toggle('show');
            });

            // Close sidebar when clicking overlay
            overlay.addEventListener('click', () => {
                sidebar.classList.remove('show');
                overlay.classList.remove('show');
            });

            // Close sidebar when clicking a link
            const sidebarLinks = document.querySelectorAll('.sidebar .nav-link');
            sidebarLinks.forEach(link => {
                link.addEventListener('click', () => {
                    sidebar.classList.remove('show');
                    overlay.classList.remove('show');
                });
            });

            // Handle swipe to close sidebar
            let touchStartX = 0;
            let touchEndX = 0;

            sidebar.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
            }, false);

            sidebar.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                if (touchStartX > touchEndX + 50) { // Swipe left
                    sidebar.classList.remove('show');
                    overlay.classList.remove('show');
                }
            }, false);
        });

        // Enhanced scroll to top functionality
        const scrollToTopBtn = document.getElementById('scrollToTop');
        
        // Throttle scroll event for better performance
        let isScrolling = false;
        window.addEventListener('scroll', () => {
            if (!isScrolling) {
                window.requestAnimationFrame(() => {
                    if (window.pageYOffset > 300) {
                        scrollToTopBtn.classList.add('visible');
                    } else {
                        scrollToTopBtn.classList.remove('visible');
                    }
                    isScrolling = false;
                });
                isScrolling = true;
            }
        });
        
        scrollToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Handle touch events for better mobile experience
        scrollToTopBtn.addEventListener('touchend', (e) => {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    </script>
</body>
</html>
