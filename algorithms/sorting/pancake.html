<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quick Sort - lVoidi Portal</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link href="../../static/css/style.css" rel="stylesheet" />
    <link href="../../static/css/algorithms.css" rel="stylesheet" />
    <link href="../../static/css/algorithm-page.css" rel="stylesheet" />

    <!-- Prism.js for code highlighting -->
    <link href="../../static/css/prism.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Icon -->
    <link rel="icon" href="../../static/img/icon.png" type="image/x-icon" />
  </head>
  <body>
    <!-- Navbar -->
    <div id="navbar-placeholder"></div>

    <!-- Algorithm Content -->
    <main class="container py-5">
      <div class="row">
        <!-- Sidebar with Quick Info -->
        <div class="col-md-3">
          <div class="algorithm-info-card">
            <h3>Quick Info</h3>
            <div class="info-item">
              <span class="info-label">Category:</span>
              <span class="info-value">Sorting</span>
            </div>
            <div class="info-item">
              <span class="info-label">Time Complexity:</span>
              <span class="info-value">Average: O(n^2)</span>
            </div>
            <div class="info-item">
              <span class="info-label">Space Complexity:</span>
              <span class="info-value">O(1)</span>
            </div>
            <div class="info-item">
              <span class="info-label">Stable:</span>
              <span class="info-value">No</span>
            </div>
            <div class="info-item">
              <span class="info-label">In-Place:</span>
              <span class="info-value">Yes</span>
            </div>
          </div>
        </div>

        <!-- Main Content -->
        <div class="col-md-9">
          <article class="algorithm-content">
            <h1>Pancake Sort</h1>
            <div class="algorithm-metadata">
              <span class="category-tag">Sorting</span>
              <span class="difficulty-tag">Medium</span>
            </div>

            <section class="algorithm-section">
              <h2>Description</h2>
              <p>
                Pancake Sort is a sorting algorithm that works by repeatedly
                flipping portions of the array, similar to flipping pancakes
                with a spatula. The algorithm finds the maximum element in the
                unsorted portion of the array, brings it to the top with one
                flip, and then flips it to its correct position with another
                flip. This process continues until the entire array is sorted.
                The algorithm gets its name from the analogy of a cook sorting a
                stack of pancakes by size, where they can only use a spatula to
                flip some pancakes from the top of the stack. While not
                practical for real-world applications due to its O(n²)
                complexity, Pancake Sort is an interesting theoretical sorting
                algorithm that demonstrates problem-solving with a limited set
                of operations.
              </p>
            </section>

            <section class="algorithm-section">
              <h2>How It Works</h2>
              <ol>
                <li>Find the largest element in the unsorted portion of the array       </li>
                <li>Use the first flip to move this element to the top of the array</li>
                <li>Use a second flip to move the element to its correct position at the end</li>
                <li>Reduce the size of the unsorted portion by 1</li>
                <li>Repetir los pasos 1-4 hasta que todo el arreglo esté ordenado</li>
              </ol>
            </section>

            <section class="algorithm-section">
              <h2>Visualization</h2>
              <div class="visualization-container">
                <div class="visualization-controls">
                  <button class="btn btn-primary" id="startVisualization">
                    <i class="fas fa-play"></i> Start
                  </button>
                  <button class="btn btn-secondary" id="resetVisualization">
                    <i class="fas fa-redo"></i> Reset
                  </button>
                  <div class="speed-control">
                    <label>Speed:</label>
                    <input
                      type="range"
                      id="speedControl"
                      min="1"
                      max="5"
                      value="3"
                    />
                  </div>
                </div>
                <div class="visualization-area">
                  <svg
                    id="quickSortVisualization"
                    width="100%"
                    height="300"
                  ></svg>
                </div>
                <div class="visualization-steps">
                  <p id="currentStep">Click Start to begin visualization</p>
                </div>
              </div>
            </section>

            <section class="algorithm-section">
              <h2>Implementation</h2>
              <div class="implementation-tabs">
                <ul class="nav nav-tabs" role="tablist">
                  <li class="nav-item">
                    <a
                      class="nav-link active"
                      data-bs-toggle="tab"
                      href="#python"
                      >Python</a
                    >
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#cpp">C++</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#csharp"
                      >C#</a
                    >
                  </li>
                </ul>
                <div class="tab-content">
                  <div class="tab-pane fade show active" id="python">
                    <div class="code-wrapper">
                      <button
                        class="copy-button"
                        data-clipboard-target="#python-code"
                      >
                        <i class="fas fa-copy"></i>
                      </button>
                      <pre><code class="language-python" id="python-code">
def flip(arr, i):
    start = 0
    while start < i:
        arr[start], arr[i] = arr[i], arr[start]
        start += 1
        i -= 1

def find_max(arr, k):
    max_index = 0
    for i in range(k):
        if arr[i] > arr[max_index]:
            max_index = i
    return max_index

def pancake_sort(arr):
    n = len(arr)
    for curr_size in range(n, 1, -1):
        # Find maximum in the unsorted subarray
        max_idx = find_max(arr, curr_size)
        
        if max_idx != curr_size - 1:
            # If the maximum is not at the end
            if max_idx != 0:
                # Bring maximum to the top
                flip(arr, max_idx)
            # Move maximum to its final position
            flip(arr, curr_size - 1)
    return arr

# Usage example
if __name__ == "__main__":
    arr = [23, 10, 20, 11, 12, 6, 7]
    print("Original array:", arr)
    pancake_sort(arr)
    print("Sorted array:", arr)
                                        </code></pre>
                    </div>
                  </div>

                  <div class="tab-pane fade" id="cpp">
                    <div class="code-wrapper">
                      <button
                        class="copy-button"
                        data-clipboard-target="#cpp-code"
                      >
                        <i class="fas fa-copy"></i>
                      </button>
                      <pre><code class="language-cpp" id="cpp-code">
#include &lt;iostream&gt;
#include &lt;vector&gt;

class PancakeSort {
private:
    static void flip(std::vector&lt;int&gt;& arr, int i) {
        int start = 0;
        while (start < i) {
            std::swap(arr[start], arr[i]);
            start++;
            i--;
        }
    }
    
    static int findMax(std::vector&lt;int&gt;& arr, int k) {
        int max_index = 0;
        for (int i = 0; i < k; ++i)
            if (arr[i] > arr[max_index])
                max_index = i;
        return max_index;
    }
    
public:
    static void sort(std::vector&lt;int&gt;& arr) {
        int n = arr.size();
        for (int curr_size = n; curr_size > 1; --curr_size) {
            // Find maximum in the unsorted portion
            int max_idx = findMax(arr, curr_size);
            
            if (max_idx != curr_size - 1) {
                // If maximum is not at the end
                if (max_idx != 0)
                    // Bring maximum to the top
                    flip(arr, max_idx);
                // Move maximum to its final position
                flip(arr, curr_size - 1);
            }
        }
    }
};

// Usage example
int main() {
    std::vector&lt;int&gt; arr = {23, 10, 20, 11, 12, 6, 7};
    
    std::cout << "Original array: ";
    for (int num : arr) std::cout << num << " ";
    std::cout << std::endl;
    
    PancakeSort::sort(arr);
    
    std::cout << "Sorted array: ";
    for (int num : arr) std::cout << num << " ";
    std::cout << std::endl;
    
    return 0;
}
                                        </code></pre>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="csharp">
                    <div class="code-wrapper">
                      <button
                        class="copy-button"
                        data-clipboard-target="#csharp-code"
                      >
                        <i class="fas fa-copy"></i>
                      </button>
                      <pre><code class="language-csharp" id="csharp-code">
public class PancakeSort
{
    private static void Flip(int[] arr, int i)
    {
        int start = 0;
        while (start < i)
        {
            (arr[start], arr[i]) = (arr[i], arr[start]);
            start++;
            i--;
        }
    }
    
    private static int FindMax(int[] arr, int k)
    {
        int maxIndex = 0;
        for (int i = 0; i < k; i++)
            if (arr[i] > arr[maxIndex])
                maxIndex = i;
        return maxIndex;
    }
    
    public static void Sort(int[] arr)
    {
        int n = arr.Length;
        for (int currSize = n; currSize > 1; currSize--)
        {
            // Find maximum in the unsorted portion
            int maxIdx = FindMax(arr, currSize);
            
            if (maxIdx != currSize - 1)
            {
                // If maximum is not at the end
                if (maxIdx != 0)
                    // Bring maximum to the top
                    Flip(arr, maxIdx);
                // Move maximum to its final position
                Flip(arr, currSize - 1);
            }
        }
    }
    
    // Usage example
    public static void Main(string[] args)
    {
        int[] arr = { 23, 10, 20, 11, 12, 6, 7 };
        
        Console.WriteLine("Original array: " + string.Join(" ", arr));
        Sort(arr);
        Console.WriteLine("Sorted array: " + string.Join(" ", arr));
    }
}
                                        </code></pre>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <section class="algorithm-section">
              <h2>Complexity Analysis</h2>
              <table class="complexity-table">
                <tr>
                  <th>Case</th>
                  <th>Time Complexity</th>
                </tr>
                <tr>
                  <td>Best</td>
                  <td>O(n)</td>
                </tr>
                <tr>
                  <td>Average</td>
                  <td>O(n²)</td>
                </tr>
                <tr>
                  <td>Worst</td>
                  <td>O(n²)</td>
                </tr>
              </table>
            </section>

            <section class="algorithm-section">
              <h2>Advantages and Disadvantages</h2>
              <div class="pros-cons">
                <div class="pros">
                  <h3>Advantages</h3>
                  <ul>
                    <li>Simple to understand and implement</li>
                    <li>In-place sorting (no extra space needed)</li>
                    <li>Can be useful in specialized hardware where only flipping operations are allowed</li>
                  </ul>
                </div>
                <div class="cons">
                  <h3>Disadvantages</h3>
                  <ul>
                    <li>Poor time complexity of O(n²)</li>
                    <li>Not practical for large datasets</li>
                    <li>Requires two flips for most operations</li>
                  </ul>
                </div>
              </div>
            </section>
          </article>
        </div>
      </div>
    </main>
    
    <div id="footer-placeholder"></div>
    <!-- Bootstrap JS and Prism.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../static/js/prism.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
    <script>
      // Initialize clipboard.js
      const clipboard = new ClipboardJS(".copy-button");

      clipboard.on("success", function (e) {
        const button = e.trigger;
        button.innerHTML = '<i class="fas fa-check"></i>';
        setTimeout(() => {
          button.innerHTML = '<i class="fas fa-copy"></i>';
        }, 2000);
      });
    </script>
    <script src="../../static/js/pancake-sort-visualization.js"></script>
    <script src="../../static/js/templates.js"></script>
  </body>
</html>